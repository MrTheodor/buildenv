FROM fedora:latest
ENV DEBIAN_FRONTEND noninteractive
RUN dnf install -y make cmake git gcc-c++ doxygen python2 openmpi-devel environment-modules python-pip clang ccache findutils boost-devel python2-sphinx fftw-devel python-matplotlib

RUN useradd -m espressopp
USER espressopp
ENV PATH=/usr/lib64/ccache:${PATH}${PATH:+:}/usr/lib64/openmpi/bin/
WORKDIR /home/espressopp
RUN pip install --user codecov
